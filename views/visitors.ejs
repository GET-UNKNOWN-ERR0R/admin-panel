<!DOCTYPE html>
<html>

<head>
    <title>Visitors</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>

    <nav class="nav">
        <h2>Visitors</h2>
        <a href="/admin/dashboard">Dashboard</a>
    </nav>

    <div class="container">

        <% if(visitors.length===0){ %>
            <p>No visitors yet</p>
            <% } %>

                <% visitors.forEach(v=> { %>
                    <div class="card visitor-card">
                        <p><b>IP:</b>
                            <%= v.ip || "N/A" %>
                        </p>
                        <p><b>Location:</b>
                            <%= v.country || "" %>
                                <%= v.city || "" %>
                        </p>
                        <p><b>Device:</b>
                            <%= v.device || "Unknown" %>
                        </p>
                        <p style="font-size:12px">
                            <%= v.browser || "" %>
                        </p>
                        <p>
                            <b>Visited:</b>
                            <%= v.createdAt ? new Date(v.createdAt).toLocaleString() : "N/A" %>
                        </p>
                    </div>
                    <% }) %>

    </div>

</body>

</html>